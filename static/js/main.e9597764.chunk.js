(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{107:function(e,t,n){e.exports={loader:"loader_loader__31U88","lds-ripple":"loader_lds-ripple__1KA0c"}},108:function(e,t,n){e.exports={overlay:"modal-overlay_overlay__AKixE"}},109:function(e,t,n){e.exports={error:"error-popup_error__268w0"}},110:function(e,t,n){e.exports={title:"info-tooltip_title__MiCz3"}},111:function(e,t,n){e.exports={success:"success-popup_success__2JF0X"}},113:function(e,t,n){e.exports={"list-item":"bun-constructor-element_list-item__3KM-y"}},122:function(e,t,n){},20:function(e,t,n){e.exports={section:"profile_section__Rmuvy",nav:"profile_nav__1tnk2",list:"profile_list__22khu",link:"profile_link__1-_Is",link_active:"profile_link_active__1VPR0",caption:"profile_caption__3N0hV","centering-block":"profile_centering-block__3aPtq"}},211:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(25),i=n.n(a),s=n(10),o=(n(122),n(26)),u=n(4),l=n(115),d=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,219)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},j=n(11),b=n(216),p=n(116),O=n(2),m=n(51),_=n(74),f=n.n(_),g=n(105),h=n(27),x=n.n(h),v="https://norma.nomoreparties.space/api",y="/auth/user";function E(e,t){var n=t.method,r=t.body,c=t.token,a={"Content-Type":"application/json"},i=!1;c&&(a.Authorization="Bearer ".concat(c));return fetch(e,Object(O.a)({method:n,body:JSON.stringify(r),headers:a},{mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrerPolicy:"no-referrer"})).then((function(e){return e.ok||(i=!0),e.json()})).then((function(e){if(i)throw new Error(e.message);return e}))}function R(e){return E("".concat(v).concat("/auth/token"),{method:"POST",body:e})}var T=function(){var e=x.a.get(),t=e.accessToken,n=e.refreshToken,r=function(e){var t=e.accessToken,n=e.refreshToken,r=t.split("Bearer ")[1];return x.a.set("accessToken",r,{expires:1/24/3}),x.a.set("refreshToken",n,{expires:7}),r},c=function(){var e=Object(g.a)(f.a.mark((function e(){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return",t);case 2:if(n){e.next=4;break}return e.abrupt("return",null);case 4:return e.next=6,R({token:n});case 6:return(c=e.sent).accessToken&&r({accessToken:c.accessToken,refreshToken:c.refreshToken}),e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{getToken:c,clearAllTokens:function(){x.a.remove("accessToken"),x.a.remove("refreshToken")},addTokens:r,accessToken:t,refreshToken:n}},C=n(0),N=["children"];var S=function(e){var t=e.children,n=Object(m.a)(e,N),r=T().refreshToken;return Object(C.jsx)(j.b,Object(O.a)(Object(O.a)({},n),{},{render:function(e){var n=e.location;return r?t:Object(C.jsx)(j.a,{to:{pathname:"/login",state:{from:n}}})}}))},k=["children"];var I=function(e){var t=e.children,n=Object(m.a)(e,k),r=T().refreshToken;return Object(C.jsx)(j.b,Object(O.a)(Object(O.a)({},n),{},{render:function(){return r?Object(C.jsx)(j.a,{to:"/"}):t}}))},P=n(5),w=n(76),q=n.n(w);function D(e){var t=e.children,n=e.path,r=e.text;return Object(C.jsxs)(s.c,{exact:!0,to:n,className:"".concat(q.a.button," text text_type_main-default text_color_inactive pl-5 pr-5 pb-4 pt-4"),activeClassName:q.a.link_active,children:[t,Object(C.jsx)("span",{className:"ml-2",children:r})]})}D.defaultProps={children:null};var U=D,L=n(41),F=n.n(L);var A=function(){var e=Object(j.h)().pathname;return Object(C.jsx)("header",{className:"".concat(F.a.header," pt-4 pb-4"),children:Object(C.jsxs)("div",{className:F.a.container,children:[Object(C.jsx)("nav",{children:Object(C.jsxs)("ul",{className:F.a.menu,children:[Object(C.jsx)("li",{className:"mr-2",children:Object(C.jsx)(U,{path:"/",text:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440",children:Object(C.jsx)(P.BurgerIcon,{type:"/"===e?"primary":"secondary"})})}),Object(C.jsx)("li",{children:Object(C.jsx)(U,{path:"/orders",text:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432",children:Object(C.jsx)(P.ListIcon,{type:"/orders"===e?"primary":"secondary"})})})]})}),Object(C.jsx)("div",{className:F.a.logo,children:Object(C.jsx)(P.Logo,{})}),Object(C.jsx)(U,{path:"/profile",text:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",children:Object(C.jsx)(P.ProfileIcon,{type:"/profile"===e?"primary":"secondary"})})]})})},G=n(77),z=n.n(G),M=n(107),B=n.n(M);var W=function(){return Object(C.jsxs)("div",{className:B.a.loader,children:[Object(C.jsx)("div",{}),Object(C.jsx)("div",{})]})};function Q(e){var t=e.children,n=e.isLoading;return Object(C.jsx)("main",{className:"".concat(z.a.main," ").concat(n&&z.a.main_loader," pl-5 pr-5"),children:n?Object(C.jsx)(W,{}):t})}Q.defaultProps={isLoading:!1};var V=Q,X=n(52),J=n.n(X),H=n(108),K=n.n(H);function Y(e){var t=e.children,n=e.isLockApp,r=e.handleClosePopup;return Object(C.jsx)("div",{className:K.a.overlay,onMouseDown:function(e){return e.target===e.currentTarget&&!n&&r()},children:t})}Y.defaultProps={isLockApp:!1,handleClosePopup:function(){}};var Z=Y,$=document.getElementById("react-modals");var ee=function(e){var t=e.children,n=e.title,c=e.handleClosePopup;return Object(r.useEffect)((function(){var e=function(e){return"Escape"===e.key&&c()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]),i.a.createPortal(Object(C.jsx)(Z,{handleClosePopup:c,children:Object(C.jsxs)("div",{className:"".concat(J.a.modal," pl-10 pt-10 pr-10"),children:[Object(C.jsxs)("header",{className:"".concat(J.a.header),children:[Object(C.jsx)("h2",{className:"".concat(J.a.title," text text_type_main-large"),children:n}),Object(C.jsx)(P.CloseIcon,{type:"primary",onClick:c})]}),t]})}),$)},te=n(78),ne=n.n(te),re=n.p+"static/media/done-animation.887b83be.gif";var ce=function(){var e=Object(u.c)((function(e){return e.popups.orderDetailsContent})).number;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("p",{className:"".concat(ne.a["order-id"]," text text_type_digits-large mt-4 mb-8"),children:e}),Object(C.jsx)("p",{className:"text text_type_main-medium",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(C.jsx)("img",{src:re,alt:"\u0410\u043d\u0438\u043c\u0430\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430",className:"".concat(ne.a.image," mt-15 mb-15")}),Object(C.jsx)("p",{className:"text text_type_main-default mb-2",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(C.jsx)("p",{className:"text text_type_main-default text_color_inactive mb-30",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},ae=n(28),ie=n.n(ae);var se=function(){var e=Object(j.i)().id,t=Object(u.c)((function(t){return t.ingredients.ingredients.find((function(t){var n=t._id;return e===n}))}))||{},n=t.image_large,r=t.name,c=t.calories,a=t.proteins,i=t.fat,s=t.carbohydrates;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("img",{src:n,alt:r,className:ie.a.image}),Object(C.jsx)("h3",{className:"".concat(ie.a.title," text text_type_main-medium mt-4 mb-8"),children:r}),Object(C.jsxs)("ul",{className:"".concat(ie.a.nutrition," text text_type_main-default text_color_inactive mb-15"),children:[Object(C.jsxs)("li",{className:ie.a.component,children:[Object(C.jsx)("span",{className:"mb-2",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(C.jsx)("span",{className:"text text_type_digits-default",children:c})]}),Object(C.jsxs)("li",{className:ie.a.component,children:[Object(C.jsx)("span",{className:"mb-2",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(C.jsx)("span",{className:"text text_type_digits-default",children:a})]}),Object(C.jsxs)("li",{className:ie.a.component,children:[Object(C.jsx)("span",{className:"mb-2",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(C.jsx)("span",{className:"text text_type_digits-default",children:i})]}),Object(C.jsxs)("li",{className:ie.a.component,children:[Object(C.jsx)("span",{className:"mb-2",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(C.jsx)("span",{className:"text text_type_digits-default",children:s})]})]})]})},oe=n(109),ue=n.n(oe),le=n(110),de=n.n(le);var je=function(e){var t=e.message,n=e.children;return Object(C.jsxs)(C.Fragment,{children:[n,Object(C.jsx)("h3",{className:"".concat(de.a.title," text text_type_main-medium mt-10 mb-25"),children:t})]})};var be=function(){var e=Object(u.c)((function(e){return e.popups.errorPopupContent})).message;return Object(C.jsx)(je,{message:e||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430",children:Object(C.jsx)("div",{className:ue.a.error,children:Object(C.jsx)(P.CloseIcon,{type:"error"})})})},pe="ADD_INGREDIENT_TO_CONSTRUCTOR",Oe="REMOVE_INGREDIENT_TO_CONSTRUCTOR",me="REPLACE_BUN_IN_CONSTRUCTOR",_e="UPDATE_CONSTRUCTOR_FROM_DRAGGING_CONTAINER",fe="COPY_CONSTRUCTOR_TO_DRAGGING_CONTAINER",ge="REPLACE_ITEMS_IN_DRAGGING_CONTAINER",he="RESET_DRAGGING_CONTAINER",xe="RESET_CONSTRUCTOR",ve="GET_INGREDIENTS_REQUEST",ye="GET_INGREDIENTS_SUCCESS",Ee="GET_INGREDIENTS_FAILED",Re="INCREASE_INGREDIENT",Te="DECREASE_INGREDIENT",Ce="RESET_INGREDIENTS_COUNT",Ne="GET_ORDER_DETAILS_REQUEST",Se="GET_ORDER_DETAILS_SUCCESS",ke="GET_ORDER_DETAILS_FAILED",Ie="CLOSE_ORDER_DETAILS",Pe="OPEN_ERROR_POPUP",we="CLOSE_ERROR_POPUP",qe="OPEN_SUCCESS_POPUP",De="CLOSE_SUCCESS_POPUP",Ue="SET_USER",Le="CLEAR_USER",Fe="GET_USER_REQUEST",Ae="GET_USER_SUCCESS",Ge="GET_USER_FAILED",ze="EDIT_USER_REQUEST",Me="EDIT_USER_SUCCESS",Be="EDIT_USER_FAILED",We="LOGOUT_REQUEST",Qe="LOGOUT_SUCCESS",Ve="LOGOUT_FAILED",Xe="LOGIN_REQUEST",Je="LOGIN_SUCCESS",He="LOGIN_FAILED",Ke="REGISTER_REQUEST",Ye="REGISTER_SUCCESS",Ze="REGISTER_FAILED",$e="FORGOT_PASSWORD_REQUEST",et="FORGOT_PASSWORD_SUCCESS",tt="FORGOT_PASSWORD_FAILED",nt="RESET_PASSWORD_REQUEST",rt="RESET_PASSWORD_SUCCESS",ct="RESET_PASSWORD_FAILED",at=function(e){return{type:Pe,payload:e}},it=function(e){return{type:qe,payload:e}},st=function(e){return function(t){var n;t({type:Ne}),(n={ingredients:e},E("".concat(v).concat("/orders"),{method:"POST",body:n})).then((function(e){t({type:Se,payload:e.order})})).catch((function(e){t({type:ke}),t(at(e))}))}},ot=n(111),ut=n.n(ot);var lt=function(){var e=Object(u.c)((function(e){return e.popups.successPopupContent})).message;return Object(C.jsx)(je,{message:e||"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b",children:Object(C.jsx)("div",{className:ut.a.success,children:Object(C.jsx)(P.CheckMarkIcon,{type:"success"})})})};function dt(e){var t=e.background,n=Object(j.g)(),c=Object(u.b)(),a=Object(u.c)((function(e){return e.popups})),i=a.isOrderDetailsOpen,s=a.isErrorPopupOpen,o=a.isSuccessPopupOpen,l=Object(r.useCallback)((function(){n.replace(Object(O.a)(Object(O.a)({},t),{},{state:null}))}),[n,t]),d=Object(r.useCallback)((function(){c({type:Ie}),c({type:we}),c({type:De})}),[]),b=Object(r.useMemo)((function(){return i||s||o}),[i,s,o]);return t?Object(C.jsx)(j.b,{path:"/ingredients/:id",children:Object(C.jsx)(ee,{title:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",handleClosePopup:l,children:Object(C.jsx)(se,{})})}):b?Object(C.jsxs)(ee,{handleClosePopup:d,children:[i&&Object(C.jsx)(ce,{}),s&&Object(C.jsx)(be,{}),o&&Object(C.jsx)(lt,{})]}):null}dt.defaultProps={background:null};var jt=dt,bt=n(6),pt=n(53),Ot=n.n(pt),mt=n(8),_t=n.n(mt),ft=n(217),gt=_t.a.shape({_id:_t.a.string.isRequired,name:_t.a.string.isRequired,type:_t.a.string.isRequired,proteins:_t.a.number.isRequired,fat:_t.a.number.isRequired,carbohydrates:_t.a.number.isRequired,calories:_t.a.number.isRequired,price:_t.a.number.isRequired,image:_t.a.string.isRequired,image_mobile:_t.a.string.isRequired,image_large:_t.a.string.isRequired,__v:_t.a.number.isRequired}),ht=n(42),xt=n.n(ht);var vt=function(e){var t=e.card,n=Object(j.h)(),r=Object(ft.a)({type:"ingredients",item:t}),c=Object(bt.a)(r,2)[1];return Object(C.jsx)("li",{ref:c,children:Object(C.jsxs)(s.b,{className:xt.a.card,to:{pathname:"/ingredients/".concat(t._id),state:{background:n,id:t._id}},children:[Object(C.jsx)("img",{src:t.image,alt:t.name,className:xt.a.image}),Object(C.jsxs)("p",{className:"".concat(xt.a.price," text text_type_digits-default mt-2 mb-2"),children:[Object(C.jsx)("span",{className:"mr-2",children:t.price}),Object(C.jsx)(P.CurrencyIcon,{type:"primary"})]}),Object(C.jsx)("p",{className:"".concat(xt.a.name," text text_type_main-default"),children:t.name}),t.qty?Object(C.jsx)("div",{className:"styles.counter styles.counter_active",children:Object(C.jsx)(P.Counter,{count:t.qty,size:"default"})}):null]})})},yt=_t.a.arrayOf(gt).isRequired,Et=n(80),Rt=n.n(Et),Tt=Object(r.forwardRef)((function(e,t){var n=e.cards,r=e.title;return Object(C.jsxs)("div",{className:Rt.a.container,children:[Object(C.jsx)("h2",{className:"text text_type_main-medium",ref:t,children:r}),n&&Object(C.jsx)("ul",{className:"".concat(Rt.a.list," mt-6 mb-10 ml-4 mr-4"),children:n.map((function(e){return Object(C.jsx)(vt,{card:e},e._id)}))})]})}));Tt.defaultProps={cards:null},Tt.propTypes={cards:yt,title:_t.a.string.isRequired};var Ct=Tt;var Nt=function(){var e=function(e){var t={};return e.forEach((function(e){return t[e.type]?t[e.type].push(e):t[e.type]=[e]})),t}(Object(u.c)((function(e){return e.ingredients})).ingredients),t=e.bun,n=e.sauce,c=e.main,a=Object(r.useState)("bun"),i=Object(bt.a)(a,2),s=i[0],o=i[1],l=Object(r.useRef)(null),d=Object(r.useRef)(null),j=Object(r.useRef)(null),b=Object(r.useRef)(null),p=function(){window.requestAnimationFrame((function(){var e=[{type:"bun",top:l.current.getBoundingClientRect().top},{type:"sauce",top:d.current.getBoundingClientRect().top},{type:"main",top:j.current.getBoundingClientRect().top}].find((function(e,t,n){return e.top>=0||t===n.length-1}));o(e.type)}))};Object(r.useEffect)((function(){return b.current.addEventListener("scroll",p),function(){return b.current.removeEventListener("scroll",p)}}),[]);var O=function(e){var t="";switch(o(e),e){case"bun":t=l.current;break;case"sauce":t=d.current;break;case"main":t=j.current;break;default:t=""}return t&&t.scrollIntoView()};return Object(C.jsxs)("section",{className:"".concat(Ot.a.container," pt-10"),children:[Object(C.jsx)("h1",{className:"text text_type_main-large",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(C.jsxs)("div",{className:"".concat(Ot.a.tab," mt-5 mb-10"),children:[Object(C.jsx)(P.Tab,{value:"bun",active:"bun"===s,onClick:O,children:"\u0411\u0443\u043b\u043a\u0438"}),Object(C.jsx)(P.Tab,{value:"sauce",active:"sauce"===s,onClick:O,children:"\u0421\u043e\u0443\u0441\u044b"}),Object(C.jsx)(P.Tab,{value:"main",active:"main"===s,onClick:O,children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]}),Object(C.jsxs)("div",{className:Ot.a.content,ref:b,children:[Object(C.jsx)(Ct,{title:"\u0411\u0443\u043b\u043a\u0438",cards:t||[],ref:l}),Object(C.jsx)(Ct,{title:"\u0421\u043e\u0443\u0441\u044b",cards:n||[],ref:d}),Object(C.jsx)(Ct,{title:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",cards:c||[],ref:j})]})]})},St=n(24),kt=n(218),It=n(113),Pt=n.n(It);function wt(e){var t=e.className,n=e.pos,r=e.name,c=e.price,a=e.image;return Object(C.jsx)("li",{className:"".concat(t," ").concat(Pt.a["list-item"]),children:Object(C.jsx)(P.ConstructorElement,{type:n,isLocked:!0,text:r+("top"===n?" (\u0432\u0435\u0440\u0445)":" (\u043d\u0438\u0437)"),price:c,thumbnail:a})})}wt.defaultProps={className:null};var qt=wt,Dt=n(54),Ut=n.n(Dt),Lt=n(114),Ft=n.n(Lt),At=function(e){return{type:Re,payload:e}},Gt=function(e){return{type:Te,payload:e}},zt=function(){return function(e){e({type:ve}),E("".concat(v).concat("/ingredients"),{method:"GET"}).then((function(t){e({type:ye,payload:t.data})})).catch((function(t){e({type:Ee}),e(at(t))}))}};var Mt=function(e){var t=e.name,n=e.price,c=e.image,a=e._cartId,i=e._id,s=Object(u.c)((function(e){return e.burgerConstructor})).draggingMainIngredients,o=Object(r.useRef)(null),l=Object(u.b)(),d=Object(ft.a)({type:"constructor",item:function(){return l({type:fe}),{_cartId:a}},collect:function(e){return{isDragging:e.isDragging()}},end:function(e,t){t.didDrop()&&l({type:_e}),l({type:he})}}),j=Object(bt.a)(d,2),b=j[0].isDragging,p=j[1],O=Object(kt.a)({accept:"constructor",hover:function(e,t){if(o.current&&a!==e._cartId){var n=s.findIndex((function(t){return t._cartId===e._cartId})),r=s.findIndex((function(e){return e._cartId===a})),c=o.current.getBoundingClientRect(),i=.2*(c.bottom-c.top),u=.8*(c.bottom-c.top),d=t.getClientOffset().y-c.top;(n<r&&d>=i||n>r&&d<=u)&&l({type:ge,payload:{initialIndex:n,targetIndex:r}})}}});return p((0,Object(bt.a)(O,2)[1])(o)),Object(C.jsxs)("li",{className:"".concat(Ut.a["list-item"]," ").concat(b&&Ut.a["list-item_dragging"]," pl-8"),ref:o,children:[Object(C.jsx)("span",{className:"".concat(Ut.a.icon," mr-2"),children:Object(C.jsx)(P.DragIcon,{type:"primary"})}),Object(C.jsx)(P.ConstructorElement,{isLocked:!1,text:t,price:n,thumbnail:c,handleClose:function(){l({type:Oe,payload:{_cartId:a,price:n}}),l(Gt({_id:i}))}})]})},Bt=n(22),Wt=n.n(Bt),Qt=document.getElementById("react-modals");var Vt=function(){return i.a.createPortal(Object(C.jsx)(Z,{isLockApp:!0,children:Object(C.jsx)(W,{})}),Qt)};var Xt=function(){var e=T().refreshToken,t=Object(j.g)(),n=Object(u.c)((function(e){return e.burgerConstructor})),c=n.mainIngredients,a=n.draggingMainIngredients,i=n.bun,s=n.totalPrice,o=Object(u.c)((function(e){return e.popups})),l=o.orderRequest,d=o.orderDetailsContent,b=Object(u.b)(),p=Object(kt.a)({accept:"ingredients",collect:function(e){return{isOver:e.isOver()}},drop:function(e){g(e)}}),m=Object(bt.a)(p,2),_=m[0].isOver,f=m[1],g=function(e){return e._id===i._id?null:"bun"===e.type?(b(Gt(i)),b(At(e)),b(function(e){return{type:me,payload:e}}(e)),e):i._id?(b(At(e)),b((t=e,{type:pe,payload:Object(O.a)(Object(O.a)({},t),{},{_cartId:Ft()()})})),e):(b(at({message:"\u041f\u0435\u0440\u0435\u0434 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u043e\u0432, \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0443\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0431\u0443\u043b\u043a\u0443 \u0434\u043b\u044f \u0431\u0443\u0434\u0443\u0449\u0435\u0433\u043e \u0431\u0443\u0440\u0433\u0435\u0440\u0430"})),null);var t};Object(r.useEffect)((function(){Object.keys(d).length&&(b({type:xe}),b({type:Ce}))}),[d]);var h=a.length?a:c;return Object(C.jsx)("section",{className:"".concat(Wt.a.constructor,"\n        ").concat(_&&Wt.a.constructor_active,"\n        ").concat(!i._id&&Wt.a.constructor_epmty,"\n        mt-10 pt-15 pb-15 pl-4 pr-4"),ref:f,children:s?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("ul",{className:"".concat(Wt.a["order-list"]),children:[Object(C.jsx)(qt,{className:"pl-8",pos:"top",name:i.name,price:i.price,image:i.image_mobile}),c.length?Object(C.jsx)("ul",{className:"".concat(Wt.a["order-list"]," ").concat(Wt.a["order-list-main"]," pr-2"),children:h.map((function(e){return Object(C.jsx)(Mt,{_id:e._id,_cartId:e._cartId,name:e.name,price:e.price,image:e.image_mobile},e._cartId)}))}):null,Object(C.jsx)(qt,{className:"pl-8",pos:"bottom",name:i.name,price:i.price,image:i.image_mobile})]}),Object(C.jsxs)("div",{className:"".concat(Wt.a["info-container"]," mt-10 mr-4"),children:[Object(C.jsxs)("p",{className:"".concat(Wt.a.price," text text_type_digits-medium mr-10"),children:[Object(C.jsx)("span",{className:"mr-2",children:s}),Object(C.jsx)(P.CurrencyIcon,{type:"primary"})]}),Object(C.jsx)(P.Button,{type:"primary",size:"large",onClick:function(){return e?b(st([i].concat(Object(St.a)(c)).map((function(e){return e._id})))):t.push("/login")},disabled:l,children:l?"\u041e\u0444\u043e\u0440\u043c\u043b\u044f\u0435\u043c...":"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]}),l&&Object(C.jsx)(Vt,{})]}):Object(C.jsx)("p",{className:"".concat(Wt.a["background-text"]," text text_type_main-medium"),children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0431\u0443\u043b\u043a\u0443 \u0431\u0443\u0440\u0433\u0435\u0440\u0430 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430"})})};var Jt=function(){var e=Object(u.c)((function(e){return e.ingredients})),t=e.ingredientsRequest;return Object(C.jsxs)(V,{isLoading:t,children:[Object(C.jsx)(Nt,{}),Object(C.jsx)(Xt,{})]})},Ht=n(35),Kt=n.n(Ht);var Yt=function(e){var t=e.type,n=e.placeholder,c=e.value,a=e.name,i=e.size,s=e.onChange,o=Object(r.useRef)(null),u=Object(r.useState)("ShowIcon"),l=Object(bt.a)(u,2),d=l[0],j=l[1],b=Object(r.useState)(!0),p=Object(bt.a)(b,2),O=p[0],m=p[1];return Object(r.useEffect)((function(){o&&(o.current.minLength=6)}),[o]),Object(C.jsx)(P.Input,{type:t,placeholder:n,value:c,name:a,error:!O,icon:d,size:i,onChange:function(e){s(e),m(e.currentTarget.validity.valid)},onIconClick:function(){return j("ShowIcon"===d?"HideIcon":"ShowIcon"),o.current.type="ShowIcon"===d?"text":"password",void o.current.focus()},ref:o,errorText:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"})};function Zt(e){var t=e.title,n=e.inputs,r=e.buttonText,c=e.navs,a=e.onSubmit,i=e.isLoading;return Object(C.jsxs)("section",{className:Kt.a.container,children:[Object(C.jsx)("h1",{className:"".concat(Kt.a.title," text text_type_main-medium"),children:t}),Object(C.jsxs)("form",{className:"".concat(Kt.a.form," mt-6 mb-20"),onSubmit:a,children:[n.map((function(e){var t=e.type,n=e.placeholder,r=e.value,c=e.name,a=e.icon,i=e.size,s=e.onChange,o=e.onIconClick,u=e.ref;return"password"===c?Object(C.jsx)(Yt,{type:t,placeholder:n,value:r,name:c,size:i,onChange:s},c):Object(C.jsx)(P.Input,{type:t,placeholder:n,value:r,name:c,icon:a,size:i,onChange:s,onIconClick:o,ref:u},c)})),Object(C.jsx)(P.Button,{type:"primary",size:"medium",children:r})]}),c.map((function(e){var t=e.captionText,n=e.linkTo,r=e.linkText;return Object(C.jsxs)("p",{className:"".concat(Kt.a.nav," text text_type_main-default text_color_inactive"),children:[Object(C.jsx)("span",{children:t}),Object(C.jsx)(s.b,{className:"".concat(Kt.a.link," ml-2"),to:n,children:r})]},r)})),i&&Object(C.jsx)(Vt,{})]})}Zt.defaultProps={navs:[]};var $t=Zt,en=function(e){return{type:Ue,payload:e}},tn=function(){return function(e){return e({type:Fe}),(0,T().getToken)().then((function(e){return function(e){return E("".concat(v).concat(y),{method:"GET",token:e})}(e)})).then((function(t){var n=t.user;return e({type:Ae,payload:n}),n})).catch((function(t){e({type:Ge}),e(at(t))}))}},nn=function(e){return function(t){return t({type:ze}),(0,T().getToken)().then((function(t){return function(e,t){return E("".concat(v).concat(y),{method:"PATCH",body:e,token:t})}(e,t)})).then((function(e){var n=e.user;return t({type:Me,payload:n}),n})).catch((function(e){t({type:Be}),t(at(e))}))}},rn=function(){return function(e){e({type:We});var t=T(),n=t.refreshToken,r=t.clearAllTokens;return function(e){return E("".concat(v).concat("/auth/logout"),{method:"POST",body:e})}({token:n}).then((function(t){return r(),e({type:Le}),e({type:Qe}),t})).catch((function(t){e({type:Ve}),e(at(t))}))}},cn=function(e){return function(t){t({type:Xe});var n=T().addTokens;return function(e){return E("".concat(v).concat("/auth/login"),{method:"POST",body:e})}(e).then((function(e){var r=e.user,c=e.accessToken,a=e.refreshToken;return n({accessToken:c,refreshToken:a}),t(en(r)),t({type:Je}),e})).catch((function(e){t({type:He}),t(at(e))}))}};var an=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.login})),n=t.loginRequest,c=Object(j.g)(),a=Object(j.h)().state,i=Object(r.useState)(""),s=Object(bt.a)(i,2),o=s[0],l=s[1],d=Object(r.useState)(""),b=Object(bt.a)(d,2),p=b[0],m=b[1],_={title:"\u0412\u0445\u043e\u0434",inputs:[{type:"email",placeholder:"Email",value:o,name:"email",size:"default",onChange:function(e){return l(e.target.value)}},{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:p,name:"password",size:"default",onChange:function(e){return m(e.target.value)}}],buttonText:"\u0412\u043e\u0439\u0442\u0438",navs:[{captionText:"\u0412\u044b \u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?",linkTo:"/register",linkText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"},{captionText:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",linkTo:"/forgot-password",linkText:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}],onSubmit:function(t){t.preventDefault(),e(cn({email:o,password:p})).then((function(e){e&&c.replace((null===a||void 0===a?void 0:a.from)||"/")}))}};return Object(C.jsx)($t,Object(O.a)(Object(O.a)({},_),{},{isLoading:n}))},sn=function(e){return function(t){t({type:Ke});var n=T().addTokens;return function(e){return E("".concat(v).concat("/auth/register"),{method:"POST",body:e})}(e).then((function(e){var r=e.user,c=e.accessToken,a=e.refreshToken;return n({accessToken:c,refreshToken:a}),t(en(r)),t({type:Ye}),e})).catch((function(e){t({type:Ze}),t(at(e))}))}};var on=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.register})),n=t.registerRequest,c=Object(j.g)(),a=Object(j.h)().state,i=Object(r.useState)(""),s=Object(bt.a)(i,2),o=s[0],l=s[1],d=Object(r.useState)(""),b=Object(bt.a)(d,2),p=b[0],m=b[1],_=Object(r.useState)(""),f=Object(bt.a)(_,2),g=f[0],h=f[1],x={title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",inputs:[{type:"text",placeholder:"\u0418\u043c\u044f",value:o,name:"name",size:"default",onChange:function(e){return l(e.target.value)}},{type:"email",placeholder:"Email",value:p,name:"email",size:"default",onChange:function(e){return m(e.target.value)}},{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:g,name:"password",size:"default",onChange:function(e){return h(e.target.value)}}],buttonText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",navs:[{captionText:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",linkTo:"/login",linkText:"\u0412\u043e\u0439\u0442\u0438"}],onSubmit:function(t){t.preventDefault(),e(sn({name:o,email:p,password:g})).then((function(e){e&&c.replace((null===a||void 0===a?void 0:a.from)||"/")}))}};return Object(C.jsx)($t,Object(O.a)(Object(O.a)({},x),{},{isLoading:n}))},un=function(){return function(e){e({type:$e});var t,n=T().refreshToken;return(t={token:n},E("".concat(v).concat("/password-reset"),{method:"POST",body:t})).then((function(t){return e({type:et}),e(it(t)),x.a.set("passwordResetAccess","true",{expires:1/24/12}),t})).catch((function(t){e({type:tt}),e(at(t))}))}};var ln=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.forgotPassword})).forgotPasswordRequest,n=Object(j.g)(),c=Object(r.useState)(""),a=Object(bt.a)(c,2),i=a[0],s=a[1],o={title:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f",inputs:[{type:"email",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail",value:i,name:"email",size:"default",onChange:function(e){return s(e.target.value)}}],buttonText:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",navs:[{captionText:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",linkTo:"/login",linkText:"\u0412\u043e\u0439\u0442\u0438"}],onSubmit:function(t){t.preventDefault(),e(un()).then((function(e){e&&n.push({pathname:"/reset-password",state:{from:n.location}})}))}};return Object(C.jsx)($t,Object(O.a)(Object(O.a)({},o),{},{isLoading:t}))},dn=function(e){return function(t){return t({type:nt}),function(e){return E("".concat(v).concat("/password-reset/reset"),{method:"POST",body:e})}(e).then((function(e){return t({type:rt}),t(it(e)),e})).catch((function(e){return t({type:ct}),t(at(e)),e}))}};var jn=function(){var e,t,n=Object(u.b)(),c=Object(u.c)((function(e){return e.resetPassword})).resetPasswordRequest,a=Object(j.g)(),i="/forgot-password"===(null===(e=Object(j.h)().state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname),s=Object(r.useState)(""),o=Object(bt.a)(s,2),l=o[0],d=o[1],b=Object(r.useState)(""),p=Object(bt.a)(b,2),m=p[0],_=p[1],f={title:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f",inputs:[{type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",value:m,name:"password",size:"default",onChange:function(e){return _(e.target.value)}},{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",value:l,name:"token",size:"default",onChange:function(e){return d(e.target.value)}}],buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",navs:[{captionText:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",linkTo:"/login",linkText:"\u0412\u043e\u0439\u0442\u0438"}],onSubmit:function(e){e.preventDefault(),n(dn({token:l,password:m})).then((function(e){e&&a.replace("/login")}))}};return i?Object(C.jsx)($t,Object(O.a)(Object(O.a)({},f),{},{isLoading:c})):Object(C.jsx)(j.a,{to:"/forgot-password"})},bn=n(20),pn=n.n(bn),On=n(34),mn=n(81),_n=n.n(mn);var fn=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.profile})),n=t.user,c=t.editUserRequest,a=t.logoutRequest,i=Object(r.useState)({}),s=Object(bt.a)(i,2),o=s[0],l=s[1],d=Object(r.useState)({name:"",email:"",password:"******"}),j=Object(bt.a)(d,2),b=j[0],p=j[1];Object(r.useEffect)((function(){Object.keys(n).length&&p(Object(O.a)(Object(O.a)({},b),n))}),[n]);var m=Object(r.useCallback)((function(e){var t=e.currentTarget.previousElementSibling.name,r=!o[t];p(Object(O.a)(Object(O.a)({},b),{},Object(On.a)({},t,n[t]))),l(Object(O.a)(Object(O.a)({},o),{},Object(On.a)({},t,r)))}),[o,b,n]),_=Object(r.useCallback)((function(){l({}),p(Object(O.a)(Object(O.a)({},b),n))}),[b,n]),f=Object(r.useCallback)((function(e){return"Escape"===e.key&&_()}),[_]),g=Object(r.useCallback)((function(e){var t=e.target,n=t.name,r=t.value;p(Object(O.a)(Object(O.a)({},b),{},Object(On.a)({},n,r)))}),[b]),h=Object(r.useCallback)((function(t){t.preventDefault();var n={};Object.keys(o).forEach((function(e){o[e]&&(n[e]=b[e])})),e(nn(n)),l({})}),[o,b]);return Object(r.useEffect)((function(){return Object.values(o).includes(!0)&&document.addEventListener("keydown",f),function(){document.removeEventListener("keydown",f)}}),[o,f]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("form",{className:_n.a.form,onSubmit:h,children:[Object(C.jsx)(P.Input,{type:"text",placeholder:"\u0418\u043c\u044f",value:b.name,name:"name",icon:o.name?"CloseIcon":"EditIcon",size:"default",onIconClick:function(e){return m(e)},onChange:function(e){return g(e)},disabled:!o.name}),Object(C.jsx)(P.Input,{type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d",value:b.email,name:"email",icon:o.email?"CloseIcon":"EditIcon",size:"default",onIconClick:function(e){return m(e)},onChange:function(e){return g(e)},disabled:!o.email}),Object(C.jsx)(P.Input,{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:b.password,name:"password",icon:o.password?"CloseIcon":"EditIcon",size:"default",onIconClick:function(e){return m(e)},onChange:function(e){return g(e)},disabled:!o.password}),Object.values(o).includes(!0)?Object(C.jsxs)("div",{className:_n.a.controls,children:[Object(C.jsx)(P.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(C.jsx)(P.Button,{type:"secondary",size:"medium",onClick:_,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]}):null]}),(c||a)&&Object(C.jsx)(Vt,{})]})};var gn=function(){var e=Object(j.g)(),t=Object(u.b)(),n=Object(r.useCallback)((function(n){n.preventDefault(),t(rn()).then((function(t){t&&e.replace("/login")}))}),[e]);return Object(C.jsxs)("section",{className:pn.a.section,children:[Object(C.jsxs)("nav",{className:pn.a.nav,children:[Object(C.jsxs)("ul",{className:pn.a.list,children:[Object(C.jsx)("li",{children:Object(C.jsx)(s.c,{to:"/profile",exact:!0,className:"".concat(pn.a.link," text text_type_main-medium text_color_inactive"),activeClassName:pn.a.link_active,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(C.jsx)("li",{children:Object(C.jsx)(s.c,{to:"/profile/orders",exact:!0,className:"".concat(pn.a.link," text text_type_main-medium text_color_inactive"),activeClassName:pn.a.link_active,children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(C.jsx)("li",{children:Object(C.jsx)(s.c,{to:"/login",className:"".concat(pn.a.link," text text_type_main-medium text_color_inactive"),activeClassName:pn.a.link_active,onClick:n,children:"\u0412\u044b\u0445\u043e\u0434"})})]}),Object(C.jsx)("p",{className:"".concat(pn.a.caption," text text_type_main-default text_color_inactive mt-20"),children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]}),Object(C.jsx)(j.b,{path:"/profile",exact:!0,children:Object(C.jsx)(fn,{})}),Object(C.jsx)(j.b,{path:"/profile/orders",exact:!0,children:Object(C.jsx)(C.Fragment,{})}),Object(C.jsx)("div",{className:pn.a["centering-block"]})]})};var hn=function(){return Object(C.jsx)("section",{className:"mt-30",children:Object(C.jsx)(se,{})})},xn=n(82),vn=n.n(xn);var yn=function(){var e=Object(j.g)().goBack;return Object(C.jsxs)("section",{className:vn.a.container,children:[Object(C.jsx)("p",{className:"".concat(vn.a.code," text text_type_digits-large"),children:"404"}),Object(C.jsx)("p",{className:"text text_type_main-medium mt-4 mb-4",children:"\u041f\u043e\u0445\u043e\u0436\u0435, \u0447\u0442\u043e \u0442\u0430\u043a\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442... \u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u0441\u0441\u044b\u043b\u043a\u0438 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430."}),Object(C.jsx)(P.Button,{type:"secondary",size:"large",onClick:function(){return e()},children:"\u041d\u0430\u0437\u0430\u0434"})]})};var En=function(){var e,t=Object(u.b)(),n=Object(u.c)((function(e){return e})),c=n.ingredients,a=n.profile,i=c.ingredientsRequest,s=a.user,o=a.getUserRequest,l=Object(j.h)(),d=null===(e=l.state)||void 0===e?void 0:e.background;return Object(r.useEffect)((function(){var e=T().refreshToken,n=Object.keys(s).length;t(zt()),e&&!n&&t(tn())}),[s]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(A,{}),Object(C.jsxs)(V,{isLoading:i||o,children:[Object(C.jsx)(b.a,{backend:p.a,children:Object(C.jsxs)(j.d,{location:d||l,children:[Object(C.jsx)(j.b,{path:"/",exact:!0,children:Object(C.jsx)(Jt,{})}),Object(C.jsx)(I,{path:"/login",children:Object(C.jsx)(an,{})}),Object(C.jsx)(I,{path:"/register",children:Object(C.jsx)(on,{})}),Object(C.jsx)(I,{path:"/forgot-password",children:Object(C.jsx)(ln,{})}),Object(C.jsx)(I,{path:"/reset-password",children:Object(C.jsx)(jn,{})}),Object(C.jsx)(S,{path:"/profile",children:Object(C.jsx)(gn,{})}),Object(C.jsx)(j.b,{path:"/ingredients/:id",children:Object(C.jsx)(hn,{})}),Object(C.jsx)(j.b,{children:Object(C.jsx)(yn,{})})]})}),Object(C.jsx)(jt,{background:d})]})]})},Rn={ingredients:[],ingredientsRequest:!1,ingredientsFailed:!1};var Tn={mainIngredients:[],draggingMainIngredients:[],bun:{},totalPrice:0};var Cn={orderRequest:!1,isOrderDetailsOpen:!1,orderDetailsContent:{},isErrorPopupOpen:!1,errorPopupContent:{},isSuccessPopupOpen:!1,successPopupContent:{}};var Nn={user:{},getUserRequest:!1,getUserFailed:!1,editUserRequest:!1,editUserFailed:!1,logoutRequest:!1,logoutFailed:!1};var Sn={registerRequest:!1,registerFailed:!1};var kn={loginRequest:!1,loginFailed:!1};var In={forgotPasswordRequest:!1,forgotPasswordFailed:!1};var Pn={resetPasswordRequest:!1,resetPasswordFailed:!1};var wn=Object(o.b)({ingredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case Re:return Object(O.a)(Object(O.a)({},e),{},{ingredients:e.ingredients.map((function(e){return e._id===r._id&&(e.qty=e.qty?e.qty+1:1),e}))});case Te:return Object(O.a)(Object(O.a)({},e),{},{ingredients:e.ingredients.map((function(e){return e._id===r._id&&(e.qty=e.qty?e.qty-1:0),e}))});case Ce:return Object(O.a)(Object(O.a)({},e),{},{ingredients:e.ingredients.map((function(e){return e.qty>0&&(e.qty=0),e}))});case ve:return Object(O.a)(Object(O.a)({},e),{},{ingredientsRequest:!0,ingredientsFailed:!1});case ye:return Object(O.a)(Object(O.a)({},e),{},{ingredientsRequest:!1,ingredients:r});case Ee:return Object(O.a)(Object(O.a)({},e),{},{ingredientsRequest:!1,ingredientsFailed:!0});default:return e}},burgerConstructor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case pe:return Object(O.a)(Object(O.a)({},e),{},{mainIngredients:[].concat(Object(St.a)(e.mainIngredients),[r]),totalPrice:e.totalPrice+r.price});case Oe:return Object(O.a)(Object(O.a)({},e),{},{mainIngredients:e.mainIngredients.filter((function(e){return e._cartId!==r._cartId})),totalPrice:e.totalPrice-r.price});case me:return Object(O.a)(Object(O.a)({},e),{},{bun:r,totalPrice:e.totalPrice-(e.bun.price?2*e.bun.price:0)+2*r.price});case _e:return Object(O.a)(Object(O.a)({},e),{},{mainIngredients:Object(St.a)(e.draggingMainIngredients)});case fe:return Object(O.a)(Object(O.a)({},e),{},{draggingMainIngredients:Object(St.a)(e.mainIngredients)});case ge:var c=r.initialIndex,a=r.targetIndex,i=Object(St.a)(e.draggingMainIngredients);return i.splice.apply(i,[a,0].concat(Object(St.a)(i.splice(c,1)))),Object(O.a)(Object(O.a)({},e),{},{draggingMainIngredients:i});case he:return Object(O.a)(Object(O.a)({},e),{},{draggingMainIngredients:Object(St.a)(Tn.draggingMainIngredients)});case xe:return Object(O.a)({},Tn);default:return e}},popups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case Ne:return Object(O.a)(Object(O.a)({},e),{},{orderRequest:!0});case Se:return Object(O.a)(Object(O.a)({},e),{},{orderRequest:!1,isOrderDetailsOpen:!0,orderDetailsContent:r});case ke:return Object(O.a)(Object(O.a)({},e),{},{orderRequest:!1});case Ie:return Object(O.a)(Object(O.a)({},e),{},{isOrderDetailsOpen:Cn.isOrderDetailsOpen,orderDetailsContent:Cn.orderDetailsContent});case Pe:return Object(O.a)(Object(O.a)({},e),{},{isErrorPopupOpen:!0,errorPopupContent:r});case we:return Object(O.a)(Object(O.a)({},e),{},{isErrorPopupOpen:Cn.isErrorPopupOpen,errorPopupContent:Cn.errorPopupContent});case qe:return Object(O.a)(Object(O.a)({},e),{},{isSuccessPopupOpen:!0,successPopupContent:r});case De:return Object(O.a)(Object(O.a)({},e),{},{isSuccessPopupOpen:Cn.isSuccessPopupOpen,successPopupContent:Cn.successPopupContent});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case Ue:return Object(O.a)(Object(O.a)({},e),{},{user:r});case Le:return Object(O.a)(Object(O.a)({},e),{},{user:Nn.user});case Fe:return Object(O.a)(Object(O.a)({},e),{},{getUserRequest:!0,getUserFailed:!1});case Ae:return Object(O.a)(Object(O.a)({},e),{},{getUserRequest:!1,user:r});case Ge:return Object(O.a)(Object(O.a)({},e),{},{getUserRequest:!1,getUserFailed:!0});case ze:return Object(O.a)(Object(O.a)({},e),{},{editUserRequest:!0,editUserFailed:!1});case Me:return Object(O.a)(Object(O.a)({},e),{},{editUserRequest:!1,user:r});case Be:return Object(O.a)(Object(O.a)({},e),{},{editUserRequest:!1,editUserFailed:!0});case We:return Object(O.a)(Object(O.a)({},e),{},{logoutRequest:!0,logoutFailed:!1});case Qe:return Object(O.a)(Object(O.a)({},e),{},{logoutRequest:!1});case Ve:return Object(O.a)(Object(O.a)({},e),{},{logoutRequest:!1,logoutFailed:!0});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type;switch(n){case Ke:return Object(O.a)(Object(O.a)({},e),{},{registerRequest:!0,registerFailed:!1});case Ye:return Object(O.a)(Object(O.a)({},e),{},{registerRequest:!1});case Ze:return Object(O.a)(Object(O.a)({},e),{},{registerRequest:!1,registerFailed:!0});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type;switch(n){case Xe:return Object(O.a)(Object(O.a)({},e),{},{loginRequest:!0,loginFailed:!1});case Je:return Object(O.a)(Object(O.a)({},e),{},{loginRequest:!1});case He:return Object(O.a)(Object(O.a)({},e),{},{loginRequest:!1,loginFailed:!0});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type;switch(n){case $e:return Object(O.a)(Object(O.a)({},e),{},{forgotPasswordRequest:!0,forgotPasswordFailed:!1,forgotPasswordSuccess:!1});case et:return Object(O.a)(Object(O.a)({},e),{},{forgotPasswordRequest:!1});case tt:return Object(O.a)(Object(O.a)({},e),{},{forgotPasswordRequest:!1,forgotPasswordFailed:!0});default:return e}},resetPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type;switch(n){case nt:return Object(O.a)(Object(O.a)({},e),{},{resetPasswordRequest:!0,resetPasswordFailed:!1});case rt:return Object(O.a)(Object(O.a)({},e),{},{resetPasswordRequest:!1});case ct:return Object(O.a)(Object(O.a)({},e),{},{resetPasswordRequest:!1,resetPasswordFailed:!0});default:return e}}}),qn=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):o.c)(Object(o.a)(l.a)),Dn=Object(o.d)(wn,qn);i.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(u.a,{store:Dn,children:Object(C.jsx)(s.a,{children:Object(C.jsx)(En,{})})})}),document.getElementById("root")),d()},22:function(e,t,n){e.exports={constructor:"burger-constructor_constructor__2Wifa",constructor_epmty:"burger-constructor_constructor_epmty__1M0uO",constructor_active:"burger-constructor_constructor_active__1EzoO","order-list":"burger-constructor_order-list__9WNNq","order-list-main":"burger-constructor_order-list-main__1fMlX","info-container":"burger-constructor_info-container__UXoJA",price:"burger-constructor_price__Q5cGy","background-text":"burger-constructor_background-text__1yfQD"}},28:function(e,t,n){e.exports={image:"ingredient-details_image__H2-xP",title:"ingredient-details_title__2_5MB",nutrition:"ingredient-details_nutrition__2ax8v",component:"ingredient-details_component__39Tnv"}},35:function(e,t,n){e.exports={container:"credentials-form_container__j3UyF",title:"credentials-form_title__3cULh",form:"credentials-form_form__28Z2W",nav:"credentials-form_nav__2VqWC",link:"credentials-form_link__1etUz"}},41:function(e,t,n){e.exports={header:"app-header_header__1iHLW",container:"app-header_container__2ER_-",menu:"app-header_menu__3SLom",logo:"app-header_logo__zVEfY"}},42:function(e,t,n){e.exports={card:"ingredient_card__1j458",image:"ingredient_image__3WGGy",price:"ingredient_price__2xF1Q",name:"ingredient_name__HmI8K",counter:"ingredient_counter__3L2pW",counter_active:"ingredient_counter_active__9Os02"}},52:function(e,t,n){e.exports={modal:"modal_modal__1DF1f",header:"modal_header__2iX3r",title:"modal_title__1efUU"}},53:function(e,t,n){e.exports={container:"burger-ingredients_container__EME_h",tab:"burger-ingredients_tab__1Ru1Z",content:"burger-ingredients_content__1rMpp"}},54:function(e,t,n){e.exports={"list-item":"main-constructor-element_list-item__3nNoN","list-item_dragging":"main-constructor-element_list-item_dragging__2j6Oh",icon:"main-constructor-element_icon__167nz"}},76:function(e,t,n){e.exports={button:"header-button_button__Oq4u3",link_active:"header-button_link_active__3Fx1r"}},77:function(e,t,n){e.exports={main:"main_main__2W-l3",main_loader:"main_main_loader__27zuY"}},78:function(e,t,n){e.exports={"order-id":"order-details_order-id__22QIi",image:"order-details_image__lnOoe"}},80:function(e,t,n){e.exports={list:"ingredients-category_list__1iaz1"}},81:function(e,t,n){e.exports={form:"edit-user_form__1bkl8",controls:"edit-user_controls__sjAs_"}},82:function(e,t,n){e.exports={container:"not-found_container__heFy6",code:"not-found_code__acw3J"}}},[[211,1,2]]]);
//# sourceMappingURL=main.e9597764.chunk.js.map